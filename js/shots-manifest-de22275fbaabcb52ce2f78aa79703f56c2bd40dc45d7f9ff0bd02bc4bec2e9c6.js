Dribbble.InfiniteScroll={paginationContainerHTML:'<div class="loading-more"><span class="processing">Loading more\u2026</span></div>',genericLoadingIndicator:function(){return{retry:function(t){this.reset(),t.disabledNext=!1,t.fetchNextPage()},hide:$.noop,reset:$.noop,show:$.noop,showErrorEncountered:$.noop,showReachedEnd:$.noop,showThrottled:$.noop}},jqueryLoadingIndicator:function(t,e){var i=$(t),n=function(t){i.html('<span class="null-message">'+t+"</span>").show()};return $.extend({},new Dribbble.InfiniteScroll.genericLoadingIndicator,{$el:i,selector:t,originalContent:i.html(),show:function(){i.show()},hide:function(){i.hide()},reset:function(){i.html(this.originalContent)},showCustomEnd:function(t){i.html(t)},showReachedEnd:function(){n(e&&e.text||"You\u2019ve reached the end of the list"),e&&e.cb&&e.cb()},showErrorEncountered:function(){n("Something went wrong\u2026")},showThrottled:function(t){i.html('<div class="rate-limited"><a href="#" class="load-next-page">Load more\u2026</a> <span>You\u2019ve exceeded our rate limits, so you may need to wait a minute or so. <a href="https://help.dribbble.com/#rate-limits" target="_blank">(more info)</a><span></div>'),i.find("a.load-next-page").on("click",function(e){e.preventDefault(),this.retry(t)}.bind(this))}})},horizontalScrollingIndicator:function(t){return $.extend({},new Dribbble.InfiniteScroll.genericLoadingIndicator,{show:function(){t.append("<div class='processing' />")},hide:function(){t.find(".processing").remove()},showReachedEnd:function(){this.hide()},showErrorEncountered:function(){this.hide()},reset:function(){t.find(".rate-limited").remove(),this.hide()},showThrottled:function(e){this.hide(),t.append('<li class="rate-limited"><a href="#" class="load-next-page">Load more\u2026</a> <span>You\u2019ve exceeded our rate limits, so you may need to wait a minute or so. <a href="https://help.dribbble.com/#rate-limits" target="_blank">(more info)</a><span></li>'),t.find(".load-next-page").on("click",function(t){t.preventDefault(),this.retry(e)}.bind(this))}})}},Dribbble.InfiniteScroll.Generic=function(t){this.initialize(t)},Dribbble.InfiniteScroll.Generic.prototype={$el:null,scrollable:null,itemSelector:null,perPage:null,buffer:null,baseUrl:document.location.toString(),autoLoadPageLimit:null,autofill:!0,disabledNext:!1,initiallyDisabled:!1,loading:!1,reachedEnd:!1,throttleTime:25,lastPosition:0,loadingIndicator:null,unique:!1,loadMoreCallback:null,pageLoadCallback:null,staticParams:{},responseDataKey:null,reachedEndText:null,reachedEndFn:null,blockDuplicates:!1,initialize:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.$el=$(t.$el),this.scrollable=this.scrollable||this.$el,Dribbble.Globals.throttle().then(function(t){this.isScrolling=t(this.isScrolling.bind(this),this.throttleTime)}.bind(this)),this.loadingIndicator=this.loadingIndicator||new Dribbble.InfiniteScroll.jqueryLoadingIndicator(this.loadingIndicatorSelector,{text:this.reachedEndText,cb:this.reachedEndFn}),this.initAppendedResults(),this.setPage(t.page),this.bindEventListeners()},initAppendedResults:function(){this.blockDuplicates&&(this.appendedResults=new Set,$(this.itemSelector).each(function(t,e){this.appendedResults.add(e.getAttribute("data-id"))}.bind(this)))},reset:function(t,e){this.initAppendedResults();e=e||{};this.baseUrl=t||this.baseUrl,this.httpMethod=e.method||"GET",this.data=e.data,this.currentXhr&&this.currentXhr.abort(),this.reachedEnd=!1,this.disabledNext=!1,this.initiallyDisabled=!1,this.$el.empty(),this.loaded=0,this.resetPage(),this.setLoading(!1),this.fetchNextPage(function(){Dribbble.LargeShotViewRecorder&&Dribbble.LargeShotViewRecorder.start()})},resetFromStart:function(t){this.initAppendedResults(),this.baseUrl=t||this.baseUrl,this.reachedEnd=!1,this.disabledNext=!1,this.initiallyDisabled=!1,this.loaded=0,this.setPage(1),this.setLoading(!1),this.loadingIndicator.reset(),Dribbble.LargeShotViewRecorder&&Dribbble.LargeShotViewRecorder.start()},disable:function(){this.disabledNext=!0},bindEventListeners:function(){$(window).on("unload",this.onUnload.bind(this)).ready(this.onReady.bind(this))},onUnload:function(){$(window).scrollTop(0)},onReady:function(){if(this.unique&&$(this.scrollable).off("scroll.infinite"),$(this.scrollable).on("scroll.infinite",this.isScrolling.bind(this)),this.deferredContentLoader)return this.deferredContentLoader();var t=this.$el.find(this.itemSelector);if(this._noMoreItemsToLoad(t))return this.reachedEnd=!0,void this.setLoading(!1);this.initiallyDisabled||(this.disabledNext=!1),this.autofill&&this.fetchNextPageIfNeeded()},isScrolling:function(){var t=this.scrollPosition();if(this.$el.toggleClass("is-scrolled",t>0),this.internalOnScroll&&this.internalOnScroll(t),!this.reachedEnd){this.onScroll&&this.onScroll.apply(this,[t]);var e=t>this.lastPosition;this.lastPosition=t,this.loading||e&&this.fetchNextPageIfNeeded(t)}},fetchNextPageIfNeeded:function(t){this.initiallyDisabled||this.disabledNext||this.noLongerInDom()||this.containerNotVisible()||this.distanceToEnd(t)>this.buffer||this.fetchNextPage()},fetchNextPage:function(t){if(!this.loading)return this.setLoading(!0),this.fetchPage(this.page.last+1,t),!1},fetchPage:function(t,e){var i=this.urlForPage(t);this.onFetchPage&&this.onFetchPage(t,i);var n={context:this,success:function(t){var i=this.responseDataKey?t[this.responseDataKey]:t;202==this.currentXhr.status?(this.requestedShotCount=this._perPage(),this.delay=(this.delay||0)+150,setTimeout(function(){this.fetchPage()}.bind(this),this.delay)):(this.showNextPage(i),e&&e())}.bind(this),error:this.showError,method:this.httpMethod||"GET",data:{}};this.data&&(n.data=this.data),this.searchParams&&(n.data.search=JSON.stringify(this.searchParams)),this.currentXhr=$.ajax(i,n)},append:function(t){this.$el.append(t)},noLongerInDom:function(){var t=$(this.scrollable)[0];return t!=window&&!$.contains(document.documentElement,t)},containerNotVisible:function(){return!this.$el.is(":visible")},showNextPage:function(t){var e,i;if(this.page.last++,this.jsonItems?(e=this.jsonItems(t),this.append(t,this.page.last)):(e=$(t).filter(this.itemSelector),this.onBeforeAppend?e=this.onBeforeAppend(e):this.appendedResults&&(i=e.filter(function(t,e){var i=e.getAttribute("data-id");if(!this.appendedResults.has(i))return e}.bind(this))),this.append(i||e,this.page.last),$("body").append($(t).filter("script")),Dribbble.MediaSwap&&new Dribbble.MediaSwap("[data-video-teaser-small][data-video-teaser-large]")),this.loaded+=e.length,this.emitAppendEvent(),this.appendedResults&&e.each(function(t,e){this.appendedResults.add(e.getAttribute("data-id"))}.bind(this)),this.onAfterAppend&&this.onAfterAppend(e),this.setLoading(!1),this._noMoreItemsToLoad(e))this.disabledNext=!0,this.reachedEnd=!0,document.querySelector(this.itemSelector)&&this.loadingIndicator.showReachedEnd(),$(this.loadNextButtonSelector).hide();else if(this._reachedAutoPageLimit()){this.disabledNext=!0,$(this.loadNextButtonSelector).show(),this.nextButtonCanLoadMore&&!this.nextButtonCanLoadMore()&&(this.reachedEnd=!0),this.loadMoreCallback&&this.loadMoreCallback(this)}else this.pageLoadCallback?this.pageLoadCallback(this):this.autofill&&this.fetchNextPageIfNeeded()},emitAppendEvent:function(){var t=new Event("dribbble.infinitescroll.append",{bubbles:!0});document.dispatchEvent(t)},_fewerItemsThanRequested:function(t){return t.length<this.requestedShotCount},_reachedAutoPageLimit:function(){return this.autoLoadPageLimit&&this.page.last%this.autoLoadPageLimit==0},_noMoreItemsToLoad:function(t){var e=(this.$el&&this.$el[0]?this.$el[0]:document.querySelector(".js-thumbnail-grid")).children[0]!==t[0];return this.requestedShotCount&&e?t.length+1<this.requestedShotCount:this.requestedShotCount?t.length<this.requestedShotCount:t.length<this._perPage()},_perPage:function(){return"function"==typeof this.perPage?this.perPage():this.perPage},setLoading:function(t){this.loading=t,t&&$(this.loadNextButtonSelector).hide(),this.loadingIndicator[t?"show":"hide"]()},resetPage:function(){this.setPage(0)},setPage:function(t){t=void 0!==t?t:1;var e=this.baseUrl.match(/page=(\d+)/);e&&(t=parseInt(e[1],10)),this.page={first:t,last:t}},showError:function(t){if("abort"!=(t=t||{}).statusText){if(403==t.status||429==t.status)return this.loading=!1,void this.loadingIndicator.showThrottled(this);404==t.status?this.loadingIndicator.showReachedEnd():401==t.status?this.loadingIndicator.showCustomEnd(t.responseText):this.loadingIndicator.showErrorEncountered(t),this.disabledNext=!0,this.reachedEnd=!0,$(this.loadNextButtonSelector).hide()}},queryParamsForPage:function(t){var e={page:t,per_page:this._perPage()};return $.extend(e,this.extraParams(t),this.staticParams)},allowedParamsForPage:function(){var t={},e=window.location.search.substring(1).split("&"),i=["keyword","color","timeframe","source_file"];return $.each(e,function(){var e=this.split("=");-1!==i.indexOf(e[0])&&(t[e[0]]=e[1])}),t},extraParams:function(){return{}},urlForPage:function(t){var e=this.queryParamsForPage(t),i=this.baseUrl.split("#")[0];return $.extend(e,this.allowedParamsForPage()),i.indexOf("?")>-1?i+"&"+$.param(e):i+"?"+$.param(e)}},Dribbble.InfiniteScroll.Vertical=function(t){this.initialize(t)},Dribbble.InfiniteScroll.Vertical.prototype=$.extend({},Dribbble.InfiniteScroll.Generic.prototype,{buffer:window.innerHeight,scrollable:window,bindEventListeners:function(){Dribbble.InfiniteScroll.Generic.prototype.bindEventListeners.apply(this),this.$backToTop&&this.$backToTop.on("click",function(){$("html,body").animate({scrollTop:0,display:"none"},500)})},distanceToEnd:function(t){return this.$el.height()-$(this.scrollable).height()-(t||this.scrollPosition())},internalOnScroll:function(t){this.$backToTop&&!Dribbble.isMobile()&&(t>50?this.$backToTop.fadeIn(100):this.$backToTop.fadeOut(100));var e=document.querySelector(".js-site-footer");e&&(t>e.offsetTop-window.innerHeight?this.$backToTop.addClass("back-to-top-absolute"):this.$backToTop.removeClass("back-to-top-absolute"))},scrollPosition:function(){return $(this.scrollable).scrollTop()}}),Dribbble.InfiniteScroll.Horizontal=function(t){this.initialize(t)},Dribbble.InfiniteScroll.Horizontal.prototype=$.extend({},Dribbble.InfiniteScroll.Generic.prototype,{initialize:function(t){Dribbble.InfiniteScroll.Generic.prototype.initialize.apply(this,[t]),this.buffer=Math.min(.75*this.$el.width(),500),$(this.scrollable).on("click",".scroll-backward a",this.scrollBackward.bind(this)),$(this.scrollable).on("click",".scroll-forward a",this.scrollForward.bind(this))},distanceToEnd:function(t){var e=(t||this.scrollPosition())+$(this.scrollable).width();return this.$el[0].scrollWidth-e},scrollPosition:function(){return $(this.scrollable).scrollLeft()},scrollBackward:function(t){this.scrollInDirection(t,-1)},scrollForward:function(t){this.scrollInDirection(t,1)},scrollInDirection:function(t,e){t.preventDefault();var i=80;$(this.scrollable).animate({scrollLeft:this.scrollPosition()+($(this.scrollable).width()-i)*e},800)}}),Dribbble.InfiniteScroll.Vertical.Simple=function(t){this.initialize(t)},Dribbble.InfiniteScroll.Vertical.Simple.prototype=$.extend({},Dribbble.InfiniteScroll.Vertical.prototype,{initialize:function(t){$(t.paginationContainerSelector||"div.page").find(".pagination").hide(),$(Dribbble.InfiniteScroll.paginationContainerHTML).insertAfter(t.$el);var e=$.extend({},t,{loadingIndicatorSelector:".loading-more",$backToTop:t.$backToTop||$("div.back-to-top")});Dribbble.InfiniteScroll.Vertical.prototype.initialize.apply(this,[e])}}),function(t){var e=!1;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof exports&&(module.exports=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,s,r){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(r=t({path:"/"},n.defaults,r)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*r.expires),r.expires=a}r.expires=r.expires?r.expires.toUTCString():"";try{o=JSON.stringify(s),/^[\{\[]/.test(o)&&(s=o)}catch(p){}s=i.write?i.write(s,e):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var h in r)r[h]&&(l+="; "+h,!0!==r[h]&&(l+="="+r[h]));return document.cookie=e+"="+s+l}e||(o={});for(var d=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<d.length;u++){var b=d[u].split("="),f=b.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{var m=b[0].replace(c,decodeURIComponent);if(f=i.read?i.read(f,m):i(f,m)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(p){}if(e===m){o=f;break}e||(o[m]=f)}catch(p){}}return o}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e(function(){})}),Dribbble.ShotOverlay={$el:null,active:!1,infiniteScroller:null,originalUrl:null,shotClickTargetSelector:null,shotElSelector:null,currentShotId:null,scrollToId:null,isSimpleModal:!1,isOpen:!1,shotOverlay:document.querySelector(".js-shot-overlay"),closeOverlay:document.querySelector(".js-close-overlay"),overlayContent:document.querySelector(".js-overlay-content"),$currentShotEl:function(){return this.$el&&this.$el.find("#screenshot-"+this.currentShotId).last()},$next:function(){return this.$currentShotEl()&&this.$currentShotEl().nextAll(this.shotElSelector).first()},$prev:function(){return this.$currentShotEl()&&this.$currentShotEl().prevAll(this.shotElSelector).first()},init:function(t){t=t||{},this.$nextButton=$(this.shotOverlay.querySelector(".shot-nav-next")),this.$prevButton=$(this.shotOverlay.querySelector(".shot-nav-prev")),t.infiniteScroller&&this.setInfiniteScroller(t.infiniteScroller),t.nativeContainer&&(this.$el=$(t.nativeContainer)),this.isSimpleModal=t.isSimpleModal,this.isDesignerSearchCard=t.isDesignerSearchCard,this.isMinimalLayout=t.isMinimalLayout,this.showSimilarShots=t.showSimilarShots,this.originalUrl=t.originalUrl,this.shotClickTargetSelector=t.shotClickTargetSelector,this.shotElSelector=t.shotElSelector,this.onTrigger=t.onTrigger||$.noop,this.bindEventListeners(),this.active=!0},setInfiniteScroller:function(t){this.infiniteScroller=t,this.infiniteScroller?(this.$el=this.infiniteScroller.$el,this.infiniteScroller.onAfterAppend=this.addShotsToList.bind(this)):this.$el=null},ignoreClick:function(t){return t.shiftKey||t.ctrlKey||t.metaKey},isLightboxOpen:function(){return document.body.classList.contains("is-lightbox-open")},bindEventListeners:function(){this.boundNextEvent=this.nextEvent.bind(this),this.boundPrevEvent=this.prevEvent.bind(this),this.boundClose=this.close.bind(this),this.boundOpenRelatedShot=this.openRelatedShot.bind(this),this.boundOpenMoreByShot=this.openMoreByShot.bind(this),this.boundHandleModalClick=this.handleModalClick.bind(this),this.$mobileHiddenElements=$("#wrap, #footer"),$(document.body).on("click",this.shotClickTargetSelector,function(t){if(this.onTrigger&&this.onTrigger(t),!this.ignoreClick(t))return this.open($(t.currentTarget),!1,null),!1}.bind(this)),Dribbble.Hotkeys.map("screenshots",{ESCAPE:function(){this.isOpen&&!this.isLightboxOpen()&&this.close()}.bind(this)},function(){return!Dribbble.Attachments.overlayVisible()&&!Dribbble.Overlay.anyOpen()})},nextEvent:function(t){this.isLightboxOpen()||(t.preventDefault(),t.stopPropagation(),this.setNavLink($(".shot-nav-next a"),this.$next()))},prevEvent:function(t){this.isLightboxOpen()||(t.preventDefault(),t.stopPropagation(),this.setNavLink($(".shot-nav-prev a"),this.$prev()))},handleModalClick:function(t){this.overlayContent.contains(t.target)||this.close()},openRelatedShot:function(t){if(!this.ignoreClick(t))return this.open($(t.currentTarget),!0),!1},openMoreByShot:function(t){if(t.preventDefault(),this.ignoreClick(t)||!this.showSimilarShots)return this.open($(t.target),!0),!1;$.ajax("/client_app/states/show_similar_work?value=off",{method:"PUT",success:function(){return this.open($(t.target),!0),!1}.bind(this),error:function(){return this.open($(t.target),!0),!1}.bind(this),complete:function(){$.ajax("/client_app/states/show_similar_work?value=on",{method:"PUT"})}})},removeOpenEventListeners:function(){this.$nextButton.off("click",this.boundNextEvent),this.$prevButton.off("click",this.boundPrevEvent),this.closeOverlay.removeEventListener("click",this.boundClose),this.shotOverlay.removeEventListener("click",this.boundHandleModalClick),$(document.body).off("click",".rebound-title a, .more-thumbs li a, .js-similar-work .js-shot-link",this.boundOpenRelatedShot),$(document.body).off("click",".js-more-by .js-shot-link",this.boundOpenMoreByShot)},addOpenEventListeners:function(){this.$nextButton.on("click",this.boundNextEvent),this.$prevButton.on("click",this.boundPrevEvent),this.closeOverlay.addEventListener("click",this.boundClose),this.shotOverlay.addEventListener("click",this.boundHandleModalClick),$(document.body).on("click",".rebound-title a, .more-thumbs li a, .js-similar-work .js-shot-link",this.boundOpenRelatedShot),$(document.body).on("click",".js-more-by .js-shot-link",this.boundOpenMoreByShot)},open:function(t,e,i){var n=t.attr("href")||t.data("href");if(n&&n!==window.location.href){this.isOpen||this.addOpenEventListeners(),this.isOpen=!0;var s={"steps-from-list":this.stepsToListPage()+1,"disable-nav":!!e};this.scrollToId?(s["scroll-to-id"]=this.scrollToId,this.scrollToId=null):document.querySelector(".js-overlay-content").scrollTop=0,Dribbble.Router.pushState(s,null,n),i&&i()}},close:function(){this.isOpen=!1,this.removeOpenEventListeners(),this.stepsToListPage()>window.history.length?Dribbble.Router.pushState(null,null,this.originalUrl):Dribbble.Router.go(-this.stepsToListPage()),window.freestar&&!Dribbble.JsConfig.user.isLoggedIn&&freestar.queue.push(function(){freestar.trackPageview()})},show:function(t,e){this.infiniteScroller&&(this.infiniteScroller.autofill=!1),t.match(/shots\/(\d+)/)&&(this.currentShotId=t.match(/shots\/(\d+)/)[1]),Dribbble.EventBus.$emit("shot-overlay:show",{shotId:this.currentShotId});let i=!1;(this.isDesignerSearchCard&&(i=(i?i+"&":"")+"isDesignerSearchCard=true"),this.isMinimalLayout&&(i=(i?i+"&":"")+"isMinimalLayout=true"),this.showSimilarShots&&(i=(i?i+"&":"")+"showSimilarShots=true"),i&&(t=t+"?"+i),this.hideNavArrows(),this.shotOverlay.classList.contains("lazyload")||this.shotOverlay.classList.contains("lazyloading")||this.shotOverlay.classList.contains("lazyloaded")||this.shotOverlay.classList.add("lazyload"),this.overlayContent.innerHTML=this.loadingTemplate().trim(),this.shotOverlay.classList.add("overlay-visible"),this.overlayContent.focus(),this.shotOverlay.classList.remove("overlay-hide"),$(".tipsy").remove(),Dribbble.HoverCards&&Dribbble.HoverCards.dismiss(),Dribbble.isMobile())?(this.overlayContent.querySelectorAll("[rel=tipsy]").forEach(function(t){t.setAttribute("original-title","")}),this.lastScrollPosition=window.pageYOffset,window.scrollTo(0,0),this.$mobileHiddenElements.hide()):document.body.classList.add("noscroll");$.ajax(t,{dataType:"html",context:this,cache:!1,headers:{"X-Alt-Referer":e},success:function(t){if(this.overlayContent.innerHTML=t,this.overlayContent.querySelectorAll("script").forEach(function(t){var e=document.createElement("script");Array.from(t.attributes).forEach(function(t){e.setAttribute(t.name,t.value)}),e.appendChild(document.createTextNode(t.innerHTML)),t.parentNode.replaceChild(e,t)}),Dribbble.EventBus.$emit("shot-overlay:shown",{shotId:this.currentShotId}),User.loggedOut()&&Dribbble.SignupModal.overlay.bindTrigger(),Dribbble.Hotkeys.TextAreaSubmission.fillShortcuts(),!this.isSimpleModal&&this.shouldShowNav()){var e=this.$prev(),i=this.$next();i[0]||!this.infiniteScroller||this.infiniteScroller.reachedEnd||(this.infiniteScroller.disabledNext=!1,this.infiniteScroller.fetchNextPage()),e[0]&&this.showPrevButton(e),i[0]&&this.showNextButton(i)}}}),window.freestar&&!Dribbble.JsConfig.user.isLoggedIn&&freestar.queue.push(function(){freestar.trackPageview()})},hide:function(){Dribbble.EventBus.$emit("shot-overlay:hide"),this.infiniteScroller&&(this.infiniteScroller.autofill=!0),this.$mobileHiddenElements.show(),document.body.classList.remove("noscroll"),Dribbble.isMobile()&&window.scrollTo(this.lastScrollPosition,0),this.shotOverlay.classList.add("overlay-hide"),this.shotOverlay.classList.remove("overlay-visible"),setTimeout(function(){this.overlayContent.innerHTML="",Dribbble.EventBus.$emit("shot-overlay:hidden")}.bind(this),400)},shouldShowNav:function(){return!History.getState().data["disable-nav"]},stepsToListPage:function(){return History.getState().data["steps-from-list"]||0},showNextButton:function(t){t[0]&&this.$nextButton.show()},showPrevButton:function(t){t[0]&&this.$prevButton.show()},hideNavArrows:function(){this.$nextButton.hide(),this.$prevButton.hide()},setNavLink:function(t,e){return Dribbble.EventBus.$emit("shot-overlay:navigate"),this.open(this.findSiblingLink(e)),!1},findSiblingLink:function(t){return t.attr("href")?t:t.find(".js-shot-link")},addShotsToList:function(t){t.length&&this.showNextButton(this.$next())},loadingTemplate:function(){var t=Cookies.get("comments_sidebar_open");return'<div class="shot-loading-template-container '+(t&&"true"==t?"has-sidebar":"")+'"><div class="loading-template animate-translate field shot-heading-loading"></div><div class="shot-header-loading-container"><div class="loading-template animate-translate avatar"></div><div class="shot-attributes-loading-container"><div class="loading-template animate-translate bar"></div><div class="loading-template animate-translate bar"></div></div></div><div class="loading-template animate-translate shot"></div><div class="shot-description-loading-container"><div class="loading-template animate-translate bar"></div><div class="loading-template animate-translate bar"></div><div class="loading-template animate-translate bar"></div><div class="loading-template animate-translate bar"></div></div><div class="shot-sidebar-loading-container"><div class="display-flex justify-flex-end flex-grow-0 margin-b-48"><div class="loading-template animate-translate button margin-r-16 icon"></div><div class="loading-template animate-translate button icon"></div></div><div class="loading-template animate-translate bar w-50 h-large margin-b-12"></div><div class="loading-template animate-translate bar hx-60"></div></div></div>'}},Dribbble.Thumbnails={AUTOMATIC_LIMIT:4,DEFAULT_PER_PAGE:24,originalUrl:document.location.toString(),initialize:function(t){if(this.perPage=t.perPage||this.DEFAULT_PER_PAGE,t.showBoostedAds&&Dribbble.EventBus.$emit("infinite-thumbnails:initialized",{collection:this.thumbnailsArray(),perPage:this.perPage,placement:t.boostedAdPlacement,params:t.boostedAdParams,numberOfAdsOnFirstPage:t.numberOfAdsOnFirstPage,numberOfAdsOnSubsequentPages:t.numberOfAdsOnSubsequentPages,adGroupPositions:t.boostedAdGroupPositions}),this.gridClass=".js-thumbnail-grid",Dribbble.isHistorySupported()&&document.querySelector(this.gridClass)){this.findElements(),this.infiniteScroller=new Dribbble.InfiniteScroll.Vertical(this.scrollerOptions(t)),t.enable_shot_overlay&&Dribbble.ShotOverlay.init({infiniteScroller:this.infiniteScroller,originalUrl:this.originalUrl,showSimilarShots:t.showSimilarShots,shotClickTargetSelector:".js-thumbnail-grid:not(.selectable) .js-shot-link, .js-thumbnail-grid:not(.selectable) a.dribbble-over",shotElSelector:".js-thumbnail"});var e=".js-thumbnail-placeholder";Dribbble.AnimatedGifSwap&&Dribbble.AnimatedGifSwap.attach(".js-thumbnail-base.gif",{parentSelector:".js-thumbnail:first",picSelector:e}),Dribbble.MediaSwap&&new Dribbble.MediaSwap("[data-video-teaser-small][data-video-teaser-large]"),this.bindEventListeners()}},bindEventListeners:function(){this.loadNextButton.find(".load-more").on("click",function(){this.infiniteScroller.disabledNext=!1,this.infiniteScroller.fetchNextPage()}.bind(this))},onFetchPage:function(t,e){Dribbble.Analytics.logDribbbleGAPageView(e)},findElements:function(){var t=$("#main"),e=Dribbble&&Dribbble.JsConfig&&Dribbble.JsConfig.isRobot;this.list=t.find(".js-thumbnail-grid"),this.loadNextButton=t.find(".infinite:not(.previous)"),this.footer=$(".secondary"),this.footer.is(":visible")||(this.footer=$("#footer")),e||t.find(".page").remove()},refreshList:function(t,e){this.infiniteScroller.reset(t,e)},thumbnailsArray:function(){var t=document.querySelectorAll(".js-thumbnail-grid")[0],e=Array.prototype.slice.call(t.querySelectorAll(":scope > li[data-thumbnail-id]")),i=t.children[0];return i&&i!==e[0]&&e.unshift(i),e},calculatePerPage:function(){var t=this.thumbnailsArray();if(0==t.length)return this.perPage;var e=t.slice(0,8),i=e[0].getBoundingClientRect().top,n=t.filter(function(t){return t.getBoundingClientRect().top==i}).length;e.length>=2&&e[0].offsetWidth>e[1].offsetWidth&&n++;var s=Math.ceil((t.length+this.perPage)/n)*n-t.length;return e.length>=2&&e[0].offsetWidth>e[1].offsetWidth&&s--,s},scrollerOptions:function(t){var e={$el:this.list,itemSelector:".js-thumbnail[data-thumbnail-id]",loadNextButtonSelector:".infinite:not(.previous)",loadingIndicatorSelector:".loading-more:not(.previous)",perPage:this.calculatePerPage.bind(this),requestedShotCount:this.perPage,extraParams:function(){return{}},autoLoadPageLimit:t.page_limit||this.AUTOMATIC_LIMIT,onFetchPage:this.onFetchPage.bind(this),buffer:window.innerHeight-this.footer.height(),$backToTop:$("div.back-to-top"),unique:!0,staticParams:t.staticParams||{},nextButtonCanLoadMore:function(){return!document.querySelector(".sign-up-to-continue")},append:function(t,e){var i=this.$el.find(this.itemSelector).map(function(){return this.id});t=$.grep(t,function(t){return-1===$.inArray(t.id,i)}),this.$el.append(t),Dribbble.DowngradeHiddenTracking&&(Dribbble.DowngradeHiddenTracking.removeEventListeners(),Dribbble.DowngradeHiddenTracking.bindEventListeners()),Dribbble.EventBus.$emit("infiniteScroll:appendedMore",{scrollPage:e})}};return t.deferredContent&&(e=$.extend(e,{deferredContentLoader:this.refreshList.bind(this),extraParams:function(t){return{cursor:Dribbble.Thumbnails.cursor,page:t}}.bind(this),resetPage:function(){Dribbble.Thumbnails.cursor=null,this.setPage(0)}})),t.cursor&&(e=$.extend(e,{noMoreItemsToLoad:function(){return Dribbble.Thumbnails.noMoreItemsToLoad},extraParams:function(t){return{cursor:Dribbble.Thumbnails.cursor,page:t,sig:Dribbble.Thumbnails.signature}}.bind(this),resetPage:function(){Dribbble.Thumbnails.cursor=null,this.setPage(0)}})),e}};var Screenshot={Like:{Shot:{toggle:function(t){t.preventDefault();var e=t.currentTarget===document?t.target:t.currentTarget,i=document.querySelector(".actions [data-primary-like=true]"),n="click"===t.type?e:i,s="btn2--loading";if(document.querySelector(".logged-in")&&null!==n){if(!n.className.includes(s)){var r=n.href,o=!(n.className.indexOf("current-user-likes")>=0),a=o?{}:{_method:"delete"},l=n.dataset.screenshotId,h="true"===n.dataset.isFromModal,d="true"===n.dataset.isCompact,c=document.querySelector(".js-shot-page-like-count");function u(t){var e="current-user-likes btn2--highlighted btn2--icon-expand-animation fill-current";o?t.addClass(e).attr("href",t.data("unlikePath")):t.removeClass(e).attr("href",t.data("likePath"))}function b(){if(c){var t=Number(c.textContent);c.textContent=o?t+1:t-1}}$.ajax({type:"POST",url:r,data:a,beforeSend:function(){n.classList.add(s),Dribbble.EventBus.$emit("shotLike:processing")},success:function(t){if(h){var e=$(".like-action-"+l+".modal-true");$(e).replaceWith(t),u($(".like-action-"+l).not(".modal-true").find(".like-shot")),b()}else if(d){e=$(".like-action-"+l+".compact-true");$(e).replaceWith(t),u($(".like-action-"+l).not(".compact-true").find(".like-shot"))}else{e=$(".like-action-"+l).not(".compact-true");$(e).replaceWith(t),u($(".like-action-"+l+".compact-true").find(".like-shot"))}var i=Dribbble.Shots.get(l);Dribbble.EventBus.$emit("shotLike:done",{isLike:o}),Dribbble.Shots.logAnalyticsView(i.id),Dribbble.Shots.logAnalyticsLike(i.id,{action:o?"like":"unlike"})}})}return!1}}}},Flag:{showFlag:function(){var t=$(".js-flag-confirm");return t.is(":visible")?t.slideUp():t.slideDown(),!1},flag:function(){var t=$(this).attr("action"),e=$(this).find("input#screenshot_id").val(),i=$("#flag_note").val();return!!confirm("You are about to report this shot as abuse of Dribbble. Are you sure you wish to continue?")&&($.ajax({type:"POST",url:t,data:{screenshot_id:e,note:i},success:function(t){$("#flag-section").html(t)}}),!1)},unflag:function(){var t=$(this).modelId();return $.ajax({type:"POST",url:this.href,data:{_method:"delete",screenshot_id:t},success:function(t){$("#flag-section").html(t)}}),!1}},Page:{next:function(){return $(".shot-nav-next a").trigger("click"),!0},prev:function(){return $(".shot-nav-prev a").trigger("click"),!0}},Bucket:{open:function(t){"true"!==t.target.contentEditable&&$("a[data-bucket-add]").trigger("click")}}},newLocation;$(document.body).on("click",".js-flag-link",Screenshot.Flag.showFlag),$(document.body).on("click",".js-unflag-link",Screenshot.Flag.unflag),$(document.body).on("submit",".js-flag-confirm",Screenshot.Flag.flag),$(document.body).on("click","a[data-fav-toggle=shot]",Screenshot.Like.Shot.toggle),Dribbble.Hotkeys.map("screenshot",{B:Screenshot.Bucket.open,F:Screenshot.Like.Shot.toggle,L:Screenshot.Like.Shot.toggle,LEFT:Screenshot.Page.prev,RIGHT:Screenshot.Page.next},function(){return!Dribbble.Attachments.overlayVisible()&&!Dribbble.Overlay.anyOpen()});var shorterTotal=function(t){return t>=1e6?t=(t/1e6).toFixed(2)+"M":t>=1e3&&(t=(t/1e3).toFixed(1)+"k"),t};
/*
 *  Character Count Plugin - jQuery plugin
 *  Dynamic character count for text areas and input fields
 *  written by Alen Grakalic
 *  http://cssglobe.com/post/7161/jquery-plugin-simplest-twitterlike-dynamic-character-count-for-textareas
 *
 *  Copyright (c) 2009 Alen Grakalic (http://cssglobe.com)
 *  Dual licensed under the MIT (MIT-LICENSE.txt)
 *  and GPL (GPL-LICENSE.txt) licenses.
 *
 *  Built for jQuery library
 *  http://jquery.com
 *
 */
/*
 *  Character Count Plugin - jQuery plugin
 *  Dynamic character count for text areas and input fields
 *  written by Alen Grakalic
 *  http://cssglobe.com/post/7161/jquery-plugin-simplest-twitterlike-dynamic-character-count-for-textareas
 *
 *  Copyright (c) 2009 Alen Grakalic (http://cssglobe.com)
 *  Dual licensed under the MIT (MIT-LICENSE.txt)
 *  and GPL (GPL-LICENSE.txt) licenses.
 *
 *  Built for jQuery library
 *  http://jquery.com
 *
 */
!function(t){t.fn.charCount=function(e){function i(i){var n=t(i).val().length,s=e.allowed-n;s<=e.warning&&s>=0?t(i).next().addClass(e.cssWarning):t(i).next().removeClass(e.cssWarning),s<0?t(i).next().addClass(e.cssExceeded):t(i).next().removeClass(e.cssExceeded),t(i).next().html(e.counterText+s)}var n={allowed:140,warning:20,css:"counter",counterElement:"span",cssWarning:"warning",cssExceeded:"exceeded",counterText:""};e=t.extend(n,e);this.each(function(){t(this).after("<"+e.counterElement+' class="'+e.css+'">'+e.counterText+"</"+e.counterElement+">"),i(this),t(this).on("keyup",function(){i(this)}),t(this).on("change",function(){i(this)})})}}(jQuery),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}),Dribbble.FormValidationUI={build:function(t,e){if(null!==t){var i="Validation Error",n='<div class="errorExplanation" id="errorExplanation">';return(e=e||{}).title&&(i=e.title),e.noError||(n+="<h2>"+i+"</h2>"),Array.isArray(t)||(t=Array(t)),n+="<ul>",t.forEach(function(t){n+="<li>"+t+"</li>"}),n+"</ul></div>"}}},$.fn.buildError=function(t,e){if(null!==t){var i=$(this).closest("fieldset");(i=i.length?i:$(this)).find(".errorExplanation").remove();var n=Dribbble.FormValidationUI.build(t,e);i.prepend(n),i.addClass("fieldWithErrors")}},Dribbble.Bucket=function(t){this.options=t||{},this.type=t.type||"bucket",this.target=t.target,this.accountId=t.accountId,this.activeTarget=null,this.overlayEl=null,this.selected={},this.init()},Dribbble.Bucket.prototype={init:function(){this.createOverlay(),this.bindEventListeners()},createOverlay:function(){if(!this.overlayEl){this.overlayEl=$("<div />",{id:this.type+"-overlay","class":"overlay"}).appendTo("body").append($("<div />",{id:this.type+"-add","class":"lightbox"}).append($("<a />",{href:"#","class":"close"}).append($("<img />",{src:"/assets/icons/close-v2-ee745bc0fbb9fb4478f0276268826717013f0846f4641f5c4089670432a65335.svg","class":"lazyload",width:24,height:24}))).append($("<div />",{"class":"display"}).append($("<div />",{"class":"processing",text:"Loading\u2026"}))));var t=function(){this.overlay.$el.find(".display").html($("<div />",{"class":"processing",text:"Loading\u2026"})),Dribbble.isMobileSafari()||$("body").removeClass("noscroll")}.bind(this),e=function(){screenshotId=this.activeTarget.dataset.screenshotId;var t="true"===this.activeTarget.dataset.isFromModal;screenshotId&&(url="/shots/"+screenshotId+(t?"/buckets_menu":"/shots_thumbnail_buckets_menu"),$(this.activeTarget.parentElement).load(url,function(t){$(t)&&Dribbble.EventBus.$emit("shotCollection:done",{isSaved:!!$(t).data("bucket-saved")})}))}.bind(this),i=function(){this.activeTarget=null}.bind(this),n="bucket"==this.type?[t,e,i]:[t,i];this.overlay=new Dribbble.Overlay.Simple({$el:this.overlayEl,onHide:n})}},bindEventListeners:function(){var t="click."+this.type;$(this.options.parentTarget||document.body).off(t).on(t,this.target,this.show.bind(this)),this.overlay.$el.on("keyup",this.navigate.bind(this)).on("click",".create form .cancel",this.hideCreate.bind(this)).on("submit",".create form",this.create.bind(this)).on("click",".add a.create",this.showCreate.bind(this)).on("click","ol li a",this.toggleClicked.bind(this)).on("keyup","#bucket_query",this.search.bind(this)).on("submit","#bucket_search",function(){return!1}).on("mousemove","ol li",this.onMouseMove.bind(this))},create:function(t){var e=$(t.target);return $.ajax({context:this,type:"POST",url:e.attr("action"),data:e.serialize(),beforeSend:function(){$("#bucket-add form input[type=submit]").addClass("processing").attr("disabled","true").attr("value","Processing, please wait\u2026")},statusCode:{201:function(t){this.refresh(t)},200:function(t){this.overlay.find(".create-bucket").html(t)},422:function(t){if(t.getResponseHeader("content-type").indexOf("json")>-1){var i=JSON.parse(t.responseText);e.buildError(i.message)}else this.overlay.find(".create-good").html(t.responseText),$("#json-field").length||this.overlay.find(".create-good form").append($("<input>",{id:"json-field",type:"hidden",name:"json",value:!0}))}}},"json"),!1},hasItems:function(){return this.overlay.find(".add ol li").length>0},hideCreate:function(){this.hasItems()?this.showAdd():this.overlay.hide()},navigate:function(t){var e=$("#bucket_query");if(e.is(":visible")){switch(t.which){case 13:"project"==this.type&&this.current&&this.current.hasClass("bucketed")?this.overlay.find("#bucket_form").trigger("submit"):this.toggle(this.current);break;case 27:""==$.trim(e.val())?this.overlay.hide():e.val("").trigger("keyup");break;case 38:case 40:var i=38==t.which?this.current.prev():this.current.next();this.select(i,{scrollIntoView:!0})}return!1}},onMouseMove:function(t){if(!this.scrolling){var e=$(t.target).closest("li");this.current&&e.get(0)==this.current.get(0)||this.select(e)}},refresh:function(t){var e=this,i=this.activeTarget.dataset.listUrl?this.activeTarget.dataset.listUrl:this.activeTarget.href;this.accountId&&(i=Dribbble.Url.addParams(i,{account_id:this.accountId})),t=t||{},this.overlay.find(".display").load(i,function(){if(e.hasItems())if(e.showAdd(),t.id){var i="#"+e.type+"-"+t.id;e.select(i),e.toggle(i)}else e.select("ol.group li:first-child");else e.showCreate();e.overlay.$el.find("ol.group").on("scroll",function(){clearTimeout(e.scrolling),e.scrolling=setTimeout(function(){e.scrolling=!1},250)})})},search:function(t){if(t)switch(t.which){case 13:case 27:case 38:case 40:return void t.preventDefault()}var e=this.overlay.find("#bucket_query").val().toLowerCase();this.overlay.find("ol.group li").each(function(){var t=$(this);t.find("a strong").text().toLowerCase().search(e)>-1?t.show():t.hide()}).sort(function(t,i){var n=$(t).find("a strong").text(),s=$(i).find("a strong").text(),r=n.toLowerCase().search(e),o=s.toLowerCase().search(e);return r==o?n>s?1:-1:r>o?1:-1}).appendTo(this.overlay.find("ol.group")),this.select(this.overlay.find("ol.group li:visible").eq(0))},select:function(t,e){var i=$(t);return 0!=i.length&&(this.current&&this.current.removeClass("current"),this.current=i,this.current.addClass("current"),e&&e.scrollIntoView&&i.get(0).scrollIntoView(!1),!1)},show:function(t){return t.preventDefault(),this.activeTarget="A"==t.target.tagName?t.target:t.target.closest("a"),this.refresh(),this.overlay.show(),Dribbble.isMobileSafari()||$("body").addClass("noscroll"),!1},showAdd:function(){this.overlay.find(".add").show().end().find(".create-bucket, .create-good").hide().end(),Dribbble.isMobile()||$("#bucket_query").trigger("focus")},showCreate:function(){if("good"==this.type)$("#json-field").length||this.overlay.find(".create-good form").append($("<input>",{id:"json-field",type:"hidden",name:"json",value:!0})),this.overlay.find(".add").hide().end().find(".create-good").show().end(),this.overlay.find("#good_title").trigger("focus");else{this.overlay.find(".add").hide().end().find(".create-bucket").show().end();var t=$("#"+this.type+"_name",this.overlay.$el),e=$("#"+this.type+"_description",this.overlay.$el);t.next().hasClass("counter")||t.charCount({allowed:64,warning:10}),e.next().hasClass("counter")||e.charCount({allowed:160}),$("#bucket_name").trigger("focus")}return!1},toggle:function(t){var e=this.overlay.find(t);if("bucket"==this.type){var i=$("#bucket_form").attr("action"),n=function(t){e.replaceWith(t),this.select("#bucket-"+e.modelId())}.bind(this),s=function(t){Dribbble.Notify.error(t.responseText),this.overlay.hide()}.bind(this);e.hasClass("bucketed")?$.ajax(i+"/"+e.modelId(),{type:"DELETE",success:n}):$.post(i,{bucket_id:e.modelId(),screenshot_id:e.data("thumbnailId"),on_hover:$("#hover-status").attr("data-from-hover")}).done(function(t){n(t);$(t).data()}).fail(s),e.toggleClass("bucketed")}else if("good"==this.type)$("ol.goods li.included").removeClass("included"),e.addClass("included"),this.overlay.find("input[name=good_id]").val(e.modelId()),this.overlay.find(".add form button.form-sub").attr("disabled",!1);else{t=".bucketed:not(.team)";var r=this.overlay.find("#bucket_form");e.hasClass("team")&&(t=".bucketed.team"),e.addClass("bucketed"),e.siblings(t).addClass("unbucketed").removeClass("bucketed"),r.find("input[data-user-id="+e.data("user-id")+"]").remove(),input=$("<input>",{type:"hidden",name:"bucket_id[]","data-user-id":e.data("user-id")}).appendTo(r),input.val(e.modelId()),this.overlay.find(".add form button.form-sub").attr("disabled",!1)}Dribbble.isMobile()||$("#bucket_query").trigger("focus");var o=e.get(0).classList;return o.contains("bucketed")||o.contains("included")?this.selected={id:e.modelId(),title:e.data("title")}:this.selected={},!1},toggleClicked:function(t){return this.toggle($(t.target).closest("li"))}},
/*
 * Jeditable - jQuery in place edit plugin
 *
 * Copyright (c) 2006-2009 Mika Tuupola, Dylan Verheul
 *
 * Licensed under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 *
 * Project home:
 *   http://www.appelsiini.net/projects/jeditable
 *
 * Based on editable by Dylan Verheul <dylan_at_dyve.net>:
 *    http://www.dyve.net/jquery/?editable
 *
 */
function($){$.fn.editable=function(t,e){if("disable"!=t)if("enable"!=t){if("destroy"!=t){var i=$.extend({},$.fn.editable.defaults,{target:t},e),n=$.editable.types[i.type].plugin||function(){},s=$.editable.types[i.type].submit||function(){},r=$.editable.types[i.type].buttons||$.editable.types.defaults.buttons,o=$.editable.types[i.type].content||$.editable.types.defaults.content,a=$.editable.types[i.type].element||$.editable.types.defaults.element,l=$.editable.types[i.type].reset||$.editable.types.defaults.reset,h=i.callback||function(){},d=i.onedit||function(){},c=i.onsubmit||function(){},u=i.onreset||function(){},b=i.onerror||l;return i.tooltip&&$(this).attr("title",i.tooltip),i.autowidth="auto"==i.width,i.autoheight="auto"==i.height,this.each(function(){var t=this,e=$(t).width(),f=$(t).height();$(this).data("event.editable",i.event),$.trim($(this).html())||$(this).html(i.placeholder),$(this).on(i.event,function(u){if(!0!==$(this).data("disabled.editable")&&!t.editing&&!1!==d.apply(this,[i,t])){u.preventDefault(),u.stopPropagation(),i.tooltip&&$(t).removeAttr("title"),0==$(t).width()?(i.width=e,i.height=f):("none"!=i.width&&(i.width=i.autowidth?$(t).width():i.width),"none"!=i.height&&(i.height=i.autoheight?$(t).height():i.height)),$(this).html().toLowerCase().replace(/(;|")/g,"")==i.placeholder.toLowerCase().replace(/(;|")/g,"")&&$(this).html(""),t.editing=!0,t.revert=$(t).html(),$(t).html("");var m=$("<form />");i.cssclass&&("inherit"==i.cssclass?m.attr("class",$(t).attr("class")):m.attr("class",i.cssclass)),i.style&&("inherit"==i.style?(m.attr("style",$(t).attr("style")),m.css("display",$(t).css("display"))):m.attr("style",i.style));var p,g=a.apply(m,[i,t]);if(i.loadurl){var v=setTimeout(function(){g.disabled=!0,o.apply(m,[i.loadtext,i,t])},100),y={};null!=i.id&&(y[i.id]=t.id),$.isFunction(i.loaddata)?$.extend(y,i.loaddata.apply(t,[t.revert,i])):$.extend(y,i.loaddata),$.ajax({type:i.loadtype,url:i.loadurl,data:y,async:!1,success:function(t){window.clearTimeout(v),p=t,g.disabled=!1}})}else i.data?(p=i.data,$.isFunction(i.data)&&(p=i.data.apply(t,[t.revert,i]))):p=t.revert;o.apply(m,[p,i,t]),g.attr("name",i.name),r.apply(m,[i,t]),$(t).append(m),n.apply(m,[i,t]),$(":input:visible:enabled:first",m).focus(),i.select&&g.select(),g.keydown(function(e){27==e.keyCode&&(e.preventDefault(),l.apply(m,[i,t]))}),"cancel"==i.onblur?g.blur(function(){v=setTimeout(function(){l.apply(m,[i,t])},500)}):"submit"==i.onblur?g.blur(function(){v=setTimeout(function(){m.submit()},200)}):$.isFunction(i.onblur)?g.blur(function(){i.onblur.apply(t,[g.val(),i])}):g.blur(function(){}),m.submit(function(e){if(v&&clearTimeout(v),e.preventDefault(),!1!==c.apply(m,[i,t])&&!1!==s.apply(m,[i,t]))if($.isFunction(i.target)){var n=i.target.apply(t,[g.val(),i]);$(t).html(n),t.editing=!1,h.apply(t,[t.innerHTML,i]),$.trim($(t).html())||$(t).html(i.placeholder)}else{var r={};r[i.name]=g.val(),null!=i.id&&(r[i.id]=t.id),$.isFunction(i.submitdata)?$.extend(r,i.submitdata.apply(t,[t.revert,i])):$.extend(r,i.submitdata),"PUT"==i.method&&(r._method="put"),$(t).html(i.indicator);var o={type:"POST",data:r,dataType:"html",url:i.target,success:function(e){"html"==o.dataType&&$(t).html(e),t.editing=!1,h.apply(t,[e,i]),$.trim($(t).html())||$(t).html(i.placeholder)},error:function(e){b.apply(m,[i,t,e])}};$.extend(o,i.ajaxoptions),$.ajax(o)}return $(t).attr("title",i.tooltip),!1})}}),this.reset=function(e){this.editing&&!1!==u.apply(e,[i,t])&&($(t).html(t.revert),t.editing=!1,$.trim($(t).html())||$(t).html(i.placeholder),i.tooltip&&$(t).attr("title",i.tooltip))}})}$(this).unbind($(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable")}else $(this).data("disabled.editable",!1);else $(this).data("disabled.editable",!0)},$.editable={types:{defaults:{element:function(){var t=$('<input type="hidden"></input>');return $(this).append(t),t},content:function(t){$(":input:first",this).val(t)},reset:function(t,e){e.reset(this)},buttons:function(t,e){var i=this;if(t.submit){if(t.submit.match(/>$/))var n=$(t.submit).click(function(){"submit"!=n.attr("type")&&i.submit()});else(n=$('<button type="submit" />')).html(t.submit);$(this).append(n)}if(t.cancel){if(t.cancel.match(/>$/))var s=$(t.cancel);else(s=$('<button type="cancel" />')).html(t.cancel);$(this).append(s),$(s).click(function(){if($.isFunction($.editable.types[t.type].reset))var n=$.editable.types[t.type].reset;else n=$.editable.types.defaults.reset;return n.apply(i,[t,e]),!1})}}},text:{element:function(t){var e=$("<input />");return"none"!=t.width&&e.width(t.width),"none"!=t.height&&e.height(t.height),e.attr("autocomplete","off"),$(this).append(e),e}},textarea:{element:function(t){var e=$("<textarea />");return t.rows?e.attr("rows",t.rows):"none"!=t.height&&e.height(t.height),t.cols?e.attr("cols",t.cols):"none"!=t.width&&e.width(t.width),$(this).append(e),e}},select:{element:function(){var t=$("<select />");return $(this).append(t),t},content:function(data,settings,original){if(String==data.constructor)eval("var json = "+data);else var json=data;for(var key in json)if(json.hasOwnProperty(key)&&"selected"!=key){var option=$("<option />").val(key).append(json[key]);$("select",this).append(option)}$("select",this).children().each(function(){$(this).val()!=json.selected&&$(this).text()!=$.trim(original.revert)||$(this).attr("selected","selected")})}}},addInputType:function(t,e){$.editable.types[t]=e}},$.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",loaddata:{},submitdata:{},ajaxoptions:{}}}(jQuery),Dribbble.imageOnLoad=function(t,e){function i(t,e){var i;return function(){return t&&(i=t.apply(e||this,arguments),t=null),i}}var n=i(e);t.addEventListener("load",n),t.complete&&t.naturalWidth>0&&n()},Dribbble.isMobile=function(){var t=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),e="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;return t&&e},Dribbble.isMobileSafari=function(){return!!navigator.userAgent.match(/(iPad|iPhone|iPod touch)/)},Dribbble.isAndroidChrome=function(){var t=navigator.userAgent,e=/Android/i.test(t),i=/Chrome/i.test(t);return e&&i},Dribbble.isIosSafari=function(t){var e,i=navigator.userAgent,n="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;switch(t){case"iPhone":e=/(iPhone)/i.test(i);break;case"iPad":e=/(iPad)/i.test(i)||n;break;default:e=/(iPhone|iPad)/i.test(i)||n}var s=/WebKit/i.test(i),r=/CriOS/i.test(i),o=/FxiOS/i.test(i);return e&&s&&!r&&!o},Dribbble.isMobileViewport=function(){return window.matchMedia("screen and (max-width: 959px)").matches};var Dribbble=Dribbble||{};Dribbble.JsConfig=Dribbble.JsConfig||{},Dribbble.VideoPlayer=function(){var t=function(t,e){var i=null;return function(){window.clearTimeout(i),i=window.setTimeout(function(){t()},e)}},e=function(e){this.videos=document.querySelectorAll(e),this.videos.forEach(function(e){container=e.parentElement,controls=container.querySelector(".video-controls"),hasAudio="true"!=e.dataset.silent,muteControls=controls.querySelector(".mute-controls"),e.muteControls=muteControls,muteControls.className="mute-controls mute-mute",e.muted=!0;var n=0,s=function(){var t=e.dataset;e.offsetWidth<400&&n>400&&t.videoSmall?(e.src=t.videoSmall,n=400):e.offsetWidth<800&&(n>800||n<=400)&&t.videoMedium?(e.src=t.videoMedium,n=800):t.videoLarge&&n<=800?(e.src=t.videoLarge,n=801):t.src&&!e.src&&(e.src=t.src)},r=t(s,250);window.addEventListener("resize",r),e.src||s(),Dribbble.isMobile()&&(controls.classList.add("mobile"),muteControls.children.length&&Array.prototype.forEach.call(muteControls.children,function(t){t.removeAttribute("rel"),t.removeAttribute("original-title")})),hasAudio?muteControls.addEventListener("click",i.togglemute(e)):controls.style.display="none",e.autoplay||(e.addEventListener("mouseenter",i.play(e)),e.addEventListener("mouseleave",i.pause(e)),controls.addEventListener("mouseenter",i.play(e)),controls.addEventListener("mouseleave",i.pause(e))),e.dataset.shotUrl&&e.addEventListener("click",i.clicked(e))})},i={togglemute:function(t){return function(){t.muteControls.className=t.muted?"mute-controls mute-unmute":"mute-controls mute-mute",t.muted=!t.muted}},play:function(t){return function(){t.play()}},pause:function(t){return function(){t.pause()}},clicked:function(t){return function(){window.location=t.dataset.shotUrl}}};return e}(),Dribbble.FullScreenViewer={initialize:function(){this.fullScreenHeader=document.querySelector(".full-screen-header"),this.thumbnails=this.fullScreenHeader.querySelector(".header-thumbnails ul"),this.mainViewer=document.querySelector(".full-screen-main"),this.viewerMedia=this.mainViewer.querySelector("img, video"),this.mainViewer&&this.viewerMedia?(this.viewerSelectorKind=this.viewerMedia.tagName.toLowerCase(),this.setupViewer(),this.handleHeaderClasses(),this.checkThumbnailsScroll(),this.scrollthumbnails(),this.bindEventListeners()):console.error("Could not find a media item inside the main viewer.")},setupViewer:function(){var t=this;if(this.ViewerWidth=this.mainViewer.clientWidth,this.mainViewer.classList.add("loading"),"video"===this.viewerSelectorKind)t.viewerMedia.onloadeddata=function(){t.mediaWidth=t.viewerMedia.videoWidth,t.mainViewer.classList.remove("loading"),t.mainViewer.querySelector(".video-controls").classList.add("show")},new Dribbble.VideoPlayer("video");else if("img"===this.viewerSelectorKind){var e=function(){t.mainViewer.classList.remove("loading"),t.mediaWidth=t.viewerMedia.naturalWidth,t.shouldZoom()};Dribbble.imageOnLoad(this.viewerMedia,e)}},handleHeaderClasses:function(){this.thumbnails&&(this.fullScreenHeader.clientWidth===this.thumbnails.clientWidth?this.fullScreenHeader.classList.add("is-full"):this.fullScreenHeader.classList.remove("is-full"))},checkThumbnailsScroll:function(){this.thumbnails&&(this.thumbnailScrollable=!1,this.thumbnailsWidth=this.thumbnails.offsetWidth,this.thumbnailsScrollWidth=this.thumbnails.scrollWidth,this.thumbnailsScrollWidth>this.thumbnailsWidth?(this.thumbnailScrollable=!0,this.thumbnails.classList.add("scrollable")):(this.thumbnailScrollable=!1,this.thumbnails.classList.remove("scrollable")),this.updateScrollIndicators(),this.thumbnailScrollable&&!this.hasScrollEvent&&(Dribbble.Globals.debounce().then(function(t){var e=t(this.handleThumbnailsScroll.bind(this),100);this.thumbnails.addEventListener("scroll",e)}.bind(this)),this.hasScrollEvent=!0))},scrollthumbnails:function(){if(this.thumbnailScrollable){var t=this.thumbnails.querySelector(".active"),e=this.thumbnails.getBoundingClientRect().left,i=Math.round(t.getBoundingClientRect().left-e);this.thumbnails.scrollLeft=i-40}},shouldZoom:function(){this.canZoom=this.mediaWidth>this.ViewerWidth,"img"===this.viewerSelectorKind&&(this.canZoom?this.mainViewer.classList.add("can-zoom"):this.mainViewer.classList.remove("can-zoom"))},bindEventListeners:function(){window.addEventListener("resize",this.handleResize.bind(this)),"img"===this.viewerSelectorKind&&this.viewerMedia.addEventListener("click",function(){this.canZoom&&(this.mainViewer.classList.toggle("zoomed"),this.viewerMedia.classList.toggle("zoomed"))}.bind(this))},updateScrollIndicators:function(){var t=Math.ceil(this.thumbnails.scrollLeft),e=t>0,i=t+this.thumbnailsWidth>=this.thumbnailsScrollWidth;e?this.thumbnails.classList.add("scrolled-left"):this.thumbnails.classList.remove("scrolled-left"),i?this.thumbnails.classList.remove("scrolled-right"):this.thumbnails.classList.add("scrolled-right")},handleResize:function(){this.ViewerWidth=this.mainViewer.clientWidth,this.shouldZoom(),this.checkThumbnailsScroll(),this.handleHeaderClasses()},handleThumbnailsScroll:function(){this.updateScrollIndicators()}},Dribbble.Attachments={initialize:function(){this.findElements(),this.bindEventListeners(),this.swipeEnabled=!0,Dribbble.Hotkeys.map("attachments",{ESCAPE:Dribbble.Attachments.Keys.escape,RIGHT:Dribbble.Attachments.Keys.right,LEFT:Dribbble.Attachments.Keys.left},Dribbble.Attachments.overlayVisible.bind(this))},bindEventListeners:function(){var t=this,e=["a.full-screen-page",".detail-shot a",".attachments-list li a","#attachments ul li a"].join(",");$(document.body).on("click",e,function(e){if(!e.shiftKey&&!e.ctrlKey&&!e.metaKey)return t.openOverlay($(this)),!1}),$(document.body).on("click",".close-attachments a",function(){return t.closeOverlay(),!1})},showOverlay:function(t){var e=this;this.overlay.length&&(e.overlay.show(),$.ajax(t,{dataType:"html",cache:!1,success:function(t){e.overlay.html(t),Dribbble.isMobile()?$(".shot-overlay").is(":visible")?($(".shot-overlay").hide(),e.inShotOverlay=!0):$("#wrap, #footer").hide():$("body, .shot-overlay").addClass("attachment-noscroll"),e.overlay.trigger("focus"),Dribbble.FullScreenViewer.initialize()}}))},hideOverlay:function(){Dribbble.isMobile()?this.inShotOverlay?$(".shot-overlay").show():$("#wrap, #footer").show():$("body, .shot-overlay").removeClass("attachment-noscroll"),this.overlay.empty().hide()},closeOverlay:function(){Dribbble.Router.go(-this.stepsToShotPage())},openOverlay:function(t){var e=t.attr("href"),i=t.data("title");e&&Dribbble.Router.pushState({"steps-from-shot":this.stepsToShotPage()+1},i,e)},findElements:function(){this.overlay=$(".attachment-overlay")},overlayVisible:function(){return this.overlay&&this.overlay.is(":visible")},stepsToShotPage:function(){return History.getState().data["steps-from-shot"]||0},navigate:function(t){var e=$("#attachments"),i=e.find("li.active"),n=t?i.prev("li"):i.next("li");if(!n.length){var s=t?-1:0;n=e.find("li").eq(s)}var r=n.find("a");this.openOverlay(r)},Keys:{escape:function(){Dribbble.Attachments.closeOverlay()},left:function(){Dribbble.Attachments.navigate(!0)},right:function(){Dribbble.Attachments.navigate(!1)}}},$(".attachment-overlay").length&&Dribbble.isHistorySupported()&&Dribbble.Attachments.initialize(),Dribbble.ShotFeed={initialize:function(){this.updateSignupContext()},updateSignupContext:function(){var t=document.getElementById("more-user-shots"),e=document.getElementById("more-related-shots");void 0===t&&void 0===e||(document.getElementsByClassName("bucket-shot")[0].setAttribute("data-context","shot-page-feed"),document.getElementsByClassName("like-shot")[0].setAttribute("data-context","shot-page-feed"),document.getElementsByClassName("follow")[0].setAttribute("data-context","shot-page-feed"))}},
/**
 * Copyright 2016 Google Inc. All Rights Reserved.
 *
 * Licensed under the W3C SOFTWARE AND DOCUMENT NOTICE AND LICENSE.
 *
 *  https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document
 *
 */
function(t,e){"use strict";function i(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||d(),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,n=this.intersectionRect,s=n.width*n.height;this.intersectionRatio=i?Number((s/i).toFixed(4)):this.isIntersecting?1:0}function n(t,e){var i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=r(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function s(){return t.performance&&performance.now&&performance.now()}function r(t,e){var i=null;return function(){i||(i=setTimeout(function(){t(),i=null},e))}}function o(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function a(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function l(t,e){var i=Math.max(t.top,e.top),n=Math.min(t.bottom,e.bottom),s=Math.max(t.left,e.left),r=Math.min(t.right,e.right),o=r-s,a=n-i;return o>=0&&a>=0&&{top:i,bottom:n,left:s,right:r,width:o,height:a}}function h(t){var e;try{e=t.getBoundingClientRect()}catch(i){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):d()}function d(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function c(t,e){for(var i=e;i;){if(i==t)return!0;i=u(i)}return!1}function u(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e&&e.assignedSlot?e.assignedSlot.parentNode:e}if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var b=[];n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},n.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]})},n.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(o(t,"resize",this._checkForIntersections,!0),o(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():d();this._observationTargets.forEach(function(n){var r=n.element,o=h(r),a=this._rootContainsTarget(r),l=n.entry,d=t&&a&&this._computeTargetAndRootIntersection(r,e),c=n.entry=new i({time:s(),target:r,boundingClientRect:o,rootBounds:e,intersectionRect:d});l?t&&a?this._hasCrossedThreshold(l,c)&&this._queuedEntries.push(c):l&&l.isIntersecting&&this._queuedEntries.push(c):this._queuedEntries.push(c)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(i,n){if("none"!=t.getComputedStyle(i).display){for(var s=h(i),r=u(i),o=!1;!o;){var a=null,d=1==r.nodeType?t.getComputedStyle(r):{};if("none"==d.display)return;if(r==this.root||r==e?(o=!0,a=n):r!=e.body&&r!=e.documentElement&&"visible"!=d.overflow&&(a=h(r)),a&&!(s=l(a,s)))break;r=u(r)}return s}},n.prototype._getRootRect=function(){var t;if(this.root)t=h(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100}),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},n.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var s=0;s<this.thresholds.length;s++){var r=this.thresholds[s];if(r==i||r==n||r<i!=r<n)return!0}},n.prototype._rootIsInDom=function(){return!this.root||c(e,this.root)},n.prototype._rootContainsTarget=function(t){return c(this.root||e,t)},n.prototype._registerInstance=function(){b.indexOf(this)<0&&b.push(this)},n.prototype._unregisterInstance=function(){var t=b.indexOf(this);-1!=t&&b.splice(t,1)},t.IntersectionObserver=n,t.IntersectionObserverEntry=i}}(window,document),Dribbble.Media||(Dribbble.Media={}),Dribbble.Media.Load=function(t,e){if(this.mediaContainer=t,this.loadedCallback=e||null,this.mediaType=null,null===this.mediaContainer&&this.mediaContainer.dataset.lazy)throw new Error("Something wrong with the mediaElement");if(this.imageElement=this.mediaContainer.querySelector("img"),this.videoElement=this.mediaContainer.querySelector("video"),this.imageElement&&(this.mediaType="image"),this.videoElement&&(this.mediaType="video"),!this.mediaType)throw new Error("Could not find images or videos inside mediaElement");this.replaceSource()},Dribbble.Media.Load.prototype={replaceSource:function(){this.mediaContainer.querySelectorAll("source, img, video").forEach(function(t){var e=t.dataset.srcset||null,i=t.dataset.src||null;e&&(t.setAttribute("srcset",e),t.removeAttribute("data-srcset")),i&&(t.setAttribute("src",i),t.removeAttribute("data-src"))}),this.handleImageLoad()},handleImageLoad:function(){var t=this;if("image"===this.mediaType){var e=function(){t.mediaContainer.removeAttribute("data-lazy"),t.loadedCallback&&t.loadedCallback(t.mediaContainer)};this.imageElement?Dribbble.imageOnLoad(this.imageElement,e):e()}"video"===this.mediaType&&(this.videoElement.onloadstart=function(){t.mediaContainer.removeAttribute("data-lazy")})}},Dribbble.Carousel=function(t){this.create(t)},Dribbble.Carousel.prototype={create:function(t){if(this.applyOptions(t),this.selector="string"==typeof this.selector?document.querySelector(this.selector):this.selector,null===this.selector)throw new Error("Something wrong with your selector");this.activeBreakpoint=null,this.updateFromBreakpoint(),this.selectorWidth=this.selector.offsetWidth,this.innerElements=[].slice.call(this.selector.children),this.slidesCount=this.innerElements.length,this.currentSlideIndex=Math.max(0,Math.min(this.startIndex,this.slidesCount-this.perPage)),this.transformProperty=this.getTransformProperty(),this.resizeTimer=null,Dribbble.Globals.throttle().then(function(t){this.resizeHandler=t(function(){this.recalculateSlides()}.bind(this),100),window.addEventListener("resize",this.resizeHandler)}.bind(this));var e=["touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler"];this.resizeObserverSelector&&this.observeResize();for(var i=0;i<e.length;i++)this[e[i]]=this[e[i]].bind(this);this.initialize()},applyOptions:function(t){var e=t||{},i={selector:".dribbble-carousel",wrapperClass:"dribbble-carousel-wrapper display-flex",slideClass:"dribbble-carousel-slide",disableAnimation:!1,duration:200,easing:"ease-out",perPage:1,spaceBetween:0,previewPadding:0,preventClickOnDrag:!1,preview:!1,breakpoints:{},startIndex:0,draggable:!0,multipleDrag:!0,threshold:20,resizeObserverSelector:"",onInit:function(){},onBeforeChange:function(){},onChange:function(){}};for(var n in i)this[n]=e.hasOwnProperty(n)?e[n]:i[n];this.preview&&(this.previewPadding=2*this.spaceBetween)},updateFromBreakpoint:function(){var t=this.activeBreakpoint;for(var e in this.breakpoints)window.innerWidth>=e&&(this.activeBreakpoint=e);this.activeBreakpoint=null!==this.activeBreakpoint&&window.innerWidth>=this.activeBreakpoint?this.activeBreakpoint:null,t!==this.activeBreakpoint&&(null!==t&&null===this.activeBreakpoint?this.updateOptions():this.updateOptions(this.breakpoints[this.activeBreakpoint]))},updateOptions:function(t){var e=t||{};for(var i in this.defaultSet||(this.defaultAllowedOptions={disableAnimation:this.disableAnimation,duration:this.duration,easing:this.easing,perPage:this.perPage,draggable:this.draggable,multipleDrag:this.multipleDrag,threshold:this.threshold,spaceBetween:this.spaceBetween,preview:this.preview},this.defaultSet=!0),this.defaultAllowedOptions)this[i]=e.hasOwnProperty(i)?e[i]:this.defaultAllowedOptions[i];this.eventsBinded&&(this.draggable?this.bindDragEvent():this.removeDragEvents())},initialize:function(){this.bindEventListeners(),this.selector.style.overflow="hidden",this.buildSliderFrame(),this.onInit(this)},bindEventListeners:function(){this.bindDragEvent(),this.eventsBinded=!0},bindDragEvent:function(){this.draggable&&(this.pointerDown=!1,this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:!1},this.selector.addEventListener("touchstart",this.touchstartHandler,{passive:!0}),this.selector.addEventListener("touchend",this.touchendHandler),this.selector.addEventListener("touchmove",this.touchmoveHandler),this.selector.addEventListener("mousedown",this.mousedownHandler),this.selector.addEventListener("mouseup",this.mouseupHandler),this.selector.addEventListener("mouseleave",this.mouseleaveHandler),this.selector.addEventListener("mousemove",this.mousemoveHandler),this.selector.addEventListener("click",this.clickHandler))},removeDragEvents:function(){this.selector.removeEventListener("touchstart",this.touchstartHandler),this.selector.removeEventListener("touchend",this.touchendHandler),this.selector.removeEventListener("touchmove",this.touchmoveHandler),this.selector.removeEventListener("mousedown",this.mousedownHandler),this.selector.removeEventListener("mouseup",this.mouseupHandler),this.selector.removeEventListener("mouseleave",this.mouseleaveHandler),this.selector.removeEventListener("mousemove",this.mousemoveHandler),this.selector.removeEventListener("click",this.clickHandler)},removeAllEventListeners:function(){window.removeEventListener("resize",this.resizeHandler),this.removeDragEvents()},buildSliderFrame:function(){this.sliderFrame=document.createElement("div"),this.sliderFrame.className=this.wrapperClass,this.sliderFrame.style.width=this.getSlideWidth(!0)*this.slidesCount+this.previewPadding+"px",this.enableTransition(),this.selector.style.cursor=this.draggable?"-webkit-grab":"inherit";for(var t=document.createDocumentFragment(),e=0;e<this.slidesCount;e++){var i=this.buildSliderFrameItem(this.innerElements[e],0===e);t.appendChild(i)}this.sliderFrame.appendChild(t),this.selector.innerHTML="",this.selector.appendChild(this.sliderFrame),this.slideToCurrent()},buildSliderFrameItem:function(t,e){var i=document.createElement("div");return i.className=this.slideClass,this.spaceBetween?(i.style.width=this.getSlideWidth()+"px",e&&this.preview&&(i.style.marginLeft=this.previewPadding+"px"),i.style.marginRight=this.spaceBetween+"px"):i.style.width=100/this.slidesCount+"%",i.appendChild(t),i},getSlideWidth:function(t){var e=this.selectorWidth/this.perPage;if(this.spaceBetween){if(this.preview)var i=this.perPage*(2*this.previewPadding);else i=(this.perPage-1)*this.spaceBetween;e=(this.selectorWidth-i)/this.perPage,t&&(e+=this.spaceBetween)}return e},slideToCurrent:function(t,e){var i=-1*this.currentSlideIndex*this.getSlideWidth(!0);if(this.disableAnimation&&this.disableTransition(),this.sliderFrame.style[this.transformProperty]="translate3d("+i+"px, 0, 0)",t)if(this.onBeforeChange(e,this.currentSlideIndex),this.disableAnimation)this.onChange(e,this.currentSlideIndex);else{var n=this;window.setTimeout(function(){n.onChange(e,n.currentSlideIndex)},n.duration)}},prev:function(t,e){var i=t||1;if(!(this.slidesCount<=this.perPage)){var n=this.currentSlideIndex;this.currentSlideIndex=Math.max(this.currentSlideIndex-i,0),isNaN(this.currentSlideIndex)||this.currentSlideIndex===n||(this.slideToCurrent(!0,n),e&&e.call(this))}},next:function(t,e){var i=t||1;if(!(this.slidesCount<=this.perPage)){var n=this.currentSlideIndex;this.currentSlideIndex=Math.min(this.currentSlideIndex+i,this.slidesCount-this.perPage),isNaN(this.currentSlideIndex)||this.currentSlideIndex===n||(this.slideToCurrent(!0,n),e&&e.call(this))}},goTo:function(t,e){if(!(this.slidesCount<=this.perPage)){var i=this.currentSlideIndex;this.currentSlideIndex=Math.min(Math.max(t,0),this.slidesCount-this.perPage),isNaN(this.currentSlideIndex)||this.currentSlideIndex===i||(this.slideToCurrent(!0,i),e&&e.call(this))}},recalculateSlides:function(){this.updateFromBreakpoint(),this.currentSlideIndex+this.perPage>this.slidesCount&&(this.currentSlideIndex=this.slidesCount<=this.perPage?0:this.slidesCount-this.perPage),this.selectorWidth=this.selector.offsetWidth,this.buildSliderFrame()},observeResize:function(){var t=new ResizeObserver(function(){this.recalculateSlides()}.bind(this)),e=document.querySelector(this.resizeObserverSelector);e&&t.observe(e)},touchstartHandler:function(t){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(t.target.nodeName)||(t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.touches[0].pageX,this.drag.startY=t.touches[0].pageY)},touchendHandler:function(t){t.stopPropagation(),this.pointerDown=!1,this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()},touchmoveHandler:function(t){if(t.stopPropagation(),null===this.drag.letItGo&&(this.drag.letItGo=Math.abs(this.drag.startY-t.touches[0].pageY)<Math.abs(this.drag.startX-t.touches[0].pageX)),this.pointerDown&&this.drag.letItGo){t.preventDefault(),this.drag.endX=t.touches[0].pageX;var e="all 0ms "+this.easing;this.sliderFrame.style.webkitTransition=e,this.sliderFrame.style.transition=e;var i=-1*(this.currentSlideIndex*this.getSlideWidth(!0)-(this.drag.endX-this.drag.startX));this.sliderFrame.style[this.transformProperty]="translate3d("+i+"px, 0, 0)"}},mousedownHandler:function(t){-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(t.target.nodeName)||(t.preventDefault(),t.stopPropagation(),this.pointerDown=!0,this.drag.startX=t.pageX)},mouseupHandler:function(t){t.stopPropagation(),this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.enableTransition(),this.drag.endX&&this.updateAfterDrag(),this.clearDrag()},mouseleaveHandler:function(t){this.pointerDown&&(this.pointerDown=!1,this.selector.style.cursor="-webkit-grab",this.drag.endX=t.pageX,this.drag.preventClick=!1,this.enableTransition(),this.updateAfterDrag(),this.clearDrag())},mousemoveHandler:function(t){if(t.preventDefault(),this.pointerDown){("A"===t.target.nodeName||this.preventClickOnDrag)&&(this.drag.preventClick=!0),this.drag.endX=t.pageX,this.selector.style.cursor="-webkit-grabbing";var e="all 0ms "+this.easing;this.sliderFrame.style.webkitTransition=e,this.sliderFrame.style.transition=e;var i=-1*(this.currentSlideIndex*this.getSlideWidth(!0)-(this.drag.endX-this.drag.startX));this.sliderFrame.style[this.transformProperty]="translate3d("+i+"px, 0, 0)"}},clickHandler:function(t){this.drag.preventClick&&t.preventDefault(),this.drag.preventClick=!1},updateAfterDrag:function(){var t=1*(this.drag.endX-this.drag.startX),e=Math.abs(t),i=this.multipleDrag?Math.ceil(e/this.getSlideWidth(!0)):1;t>0&&e>this.threshold&&this.slidesCount>this.perPage?this.prev(i):t<0&&e>this.threshold&&this.slidesCount>this.perPage&&this.next(i),this.slideToCurrent()},remove:function(t,e){if(t<0||t>=this.slidesCount)throw new Error("Item to remove doesn't exist");var i=t<this.currentSlideIndex,n=this.currentSlideIndex+this.perPage-1===t;(i||n)&&this.currentSlideIndex--,this.innerElements.splice(t,1),this.slidesCount=this.innerElements.length,this.buildSliderFrame(),e&&e.call(this)},insert:function(t,e,i){if(e<0||e>this.slidesCount+1)throw new Error("Unable to inset it at this index");if(-1!==this.innerElements.indexOf(t))throw new Error("Can't insert the same item");var n=e<=this.currentSlideIndex>0&&this.slidesCount;this.currentSlideIndex=n?this.currentSlideIndex+1:this.currentSlideIndex,this.innerElements.splice(e,0,t),this.slidesCount=this.innerElements.length,this.buildSliderFrame(),i&&i.call(this)},prepend:function(t,e){this.insert(t,0),e&&e.call(this)},append:function(t,e){this.insert(t,this.slidesCount+1),e&&e.call(this)},destroy:function(t,e){var i=t||!1;if(this.removeAllEventListeners(),this.selector.style.cursor="auto",i){for(var n=document.createDocumentFragment(),s=0;s<this.slidesCount;s++)n.appendChild(this.innerElements[s]);this.selector.innerHTML="",this.selector.appendChild(n),this.selector.removeAttribute("style")}e&&e.call(this)},enableTransition:function(){var t="transform "+this.duration+"ms "+this.easing;this.sliderFrame.style.webkitTransition=t,this.sliderFrame.style.transition=t},disableTransition:function(){var t="transform 0ms "+this.easing;this.sliderFrame.style.webkitTransition=t,this.sliderFrame.style.transition=t},clearDrag:function(){this.drag={startX:0,endX:0,startY:0,letItGo:null,preventClick:this.drag.preventClick}},getTransformProperty:function(){return"string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform"}},Dribbble.MediaGallery={initialize:function(){this.mediaContainer=document.querySelector(".js-media-container"),null!==this.mediaContainer&&(this.media=this.mediaContainer.querySelectorAll(".js-media-shot")||[],this.hasGallery=this.mediaContainer.classList.contains("has-gallery"),this.galleryThumbnailsContainer=this.mediaContainer.querySelector(".js-media-gallery-thumbnails")||null,this.galleryThumbnailsMedia=this.galleryThumbnailsContainer?this.galleryThumbnailsContainer.querySelectorAll(".js-media-shot-small"):[],this.previousButtonTarget=this.mediaContainer.querySelector(".js-media-gallery-navigation-target.previous"),this.nextButtonTarget=this.mediaContainer.querySelector(".js-media-gallery-navigation-target.next"),this.previousButton=this.mediaContainer.querySelector(".js-media-gallery-navigation.previous"),this.nextButton=this.mediaContainer.querySelector(".js-media-gallery-navigation.next"),this.intersectionObserver=null,this.hasGallery&&(this.setupGallery(),this.galleryThumbnailsContainer&&this.galleryThumbnailsMedia.length&&this.setupGalleryThumbnails()),Dribbble.isMobile()&&this.setupMobile())},setupGallery:function(){this.Gallery=new Dribbble.Carousel({selector:".js-media-gallery",spaceBetween:0,onInit:this.onGalleryInit.bind(this),onBeforeChange:this.onGalleryBeforeChange.bind(this),onChange:this.onGalleryChange.bind(this),resizeObserverSelector:".js-media-content",breakpoints:{1000:{spaceBetween:0,disableAnimation:!1,draggable:!1}}})},setupGalleryThumbnails:function(){this.galleryThumbnailsMedia.forEach(function(t){var e=this;t.addEventListener("click",function(){e.Gallery.goTo(this.dataset.index)})}.bind(this)),this.checkScroll(),Dribbble.Globals.debounce().then(function(t){var e=t(this.handleResize.bind(this),100);window.addEventListener("resize",e)}.bind(this))},onGalleryInit:function(t){var e=t.currentSlideIndex+1;this.media[t.currentSlideIndex].getAttribute("data-media-id");this.previousButtonTarget.addEventListener("click",function(){t.prev()}),this.nextButtonTarget.addEventListener("click",function(){t.next()}),this.previousButtonTarget.style.cursor="pointer",this.nextButtonTarget.style.cursor="pointer",1===e&&(this.previousButton.classList.add("d-none"),this.previousButtonTarget.style.cursor="default"),this.addActiveThumbnailClass(t.currentSlideIndex)},onGalleryBeforeChange:function(t,e){this.removeActiveThumbnailClass(t),this.addActiveThumbnailClass(e),this.shouldScrollThumbnails(e);var i=this.media[t].querySelector("video");null!==i&&i.pause()},onGalleryChange:function(t,e){var i=this.media[e],n=this.media[e].querySelector("video"),s=e+1;i.getAttribute("data-media-id");this.previousButton.classList.remove("d-none"),this.nextButton.classList.remove("d-none"),this.previousButtonTarget.style.cursor="pointer",this.nextButtonTarget.style.cursor="pointer",1===s&&(this.previousButton.classList.add("d-none"),this.previousButtonTarget.style.cursor="default"),s===this.media.length&&(this.nextButton.classList.add("d-none"),this.previousButtonTarget.style.cursor="default"),null===n||i.hasAttribute("data-lazy")||n.play()},addActiveThumbnailClass:function(t){this.galleryThumbnailsMedia[t].classList.add("active")},removeActiveThumbnailClass:function(t){this.galleryThumbnailsMedia[t].classList.remove("active")},shouldScrollThumbnails:function(t){if(!0===this.thumbnailScrollable){var e=this.galleryThumbnailsMedia[t],i=e.clientWidth,n=this.galleryThumbnailsMedia[t-1]||e,s=this.galleryThumbnailsMedia[t+1]||e,r=40,o=this.galleryThumbnailsContainer.getBoundingClientRect().left,a=Math.round(n.getBoundingClientRect().left-o),l=Math.round(s.getBoundingClientRect().left-o),h=Math.round(this.galleryThumbnailsContainer.scrollLeft);a<0&&$(this.galleryThumbnailsContainer).stop(!0,!0).animate({scrollLeft:a+(h-r)},200),l+i>this.thumbnailsContainerWidth&&$(this.galleryThumbnailsContainer).stop(!0,!0).animate({scrollLeft:l+(i+r)-(this.thumbnailsContainerWidth-h)},200)}},checkScroll:function(){this.galleryThumbnailsContainer&&(this.thumbnailScrollable=!1,this.thumbnailsContainerWidth=this.galleryThumbnailsContainer.offsetWidth,this.thumbnailsContainerScrollWidth=this.galleryThumbnailsContainer.scrollWidth,this.thumbnailsContainerScrollWidth>this.thumbnailsContainerWidth?(this.thumbnailScrollable=!0,this.galleryThumbnailsContainer.classList.add("scrollable")):(this.thumbnailScrollable=!1,this.galleryThumbnailsContainer.classList.remove("scrollable")),this.updateScrollIndicators(),this.thumbnailScrollable&&!this.hasScrollEvent&&(Dribbble.Globals.debounce().then(function(t){var e=t(this.handleThumbnailsScroll.bind(this),100);this.galleryThumbnailsContainer.addEventListener("scroll",e)}.bind(this)),this.hasScrollEvent=!0))},updateScrollIndicators:function(){var t=this.mediaContainer.querySelector(".scroll-backward"),e=this.mediaContainer.querySelector(".scroll-forward"),i=Math.ceil(this.galleryThumbnailsContainer.scrollLeft),n=i>0,s=i+this.thumbnailsContainerWidth>=this.thumbnailsContainerScrollWidth;n?t.classList.add("visible"):t.classList.remove("visible"),s?e.classList.remove("visible"):e.classList.add("visible")},handleThumbnailsScroll:function(){this.updateScrollIndicators()},handleResize:function(){this.checkScroll()},setupMobile:function(){this.media.forEach(function(t){var e=t.querySelector(".cropped-indicator");e&&(e.removeAttribute("rel"),e.removeAttribute("original-title"))})}};